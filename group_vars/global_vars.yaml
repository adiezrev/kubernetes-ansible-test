---

repo: https://download.docker.com/linux/centos/docker-ce.repo

packages_docker_engine:
- docker-ce-19.03.14-3.el8 
- containerd.io

services_docker_engine:
- docker

packages:
- kubelet
- kubeadm
- kubectl

packages_disable_excludes:
- kubernetes

services:
- kubelet

kubernetes_repo: cat <<EOF > /etc/yum.repos.d/kubernetes.repo
> [kubernetes]
> name=Kubernetes
> baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
> enabled=1
> gpgcheck=1
> repo_gpgcheck=1
> gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
> exclude=kubelet kubeadm kubectl
> EOF

worker_ports:
- "10250/tcp"
- "8285/udp"
- "8472/udp"
- "30000-32767/tcp"